<div class="wrapper">
    <section id="content">
        <h2>Création de compte</h2>
        <h4 ng-hide="message.show && message.type === 'success'">
            Vous souhaitez créer un livret d’accueil personnalisé pour les habitants de votre territoire. Créez maintenant votre compte pour accéder à la plate-forme.  
            Ce compte est l’unique accès à votre livret. Ce livret n’est modifiable qu’après la saisie de vos identifiants. Si vous souhaitez que d’autres personnes contribuent, pensez à leur communiquer votre login et votre mot de passe. 
            <br>
            Les champs obligatoires sont indiqués par un *
        </h4>
        <div ng-if="message.show" 
             ng-bind="message.text" 
             ng-class="{message_success: message.type === 'success', message_error: message.type === 'error'}">
        </div>
        <div ng-show="createInProgress">
            Creation de votre compte...
            <br>
            <img src="images/loading.gif">
        </div>
        <div ng-hide="(message.show && message.type === 'success') || createInProgress" id="form-subscribe" ng-keypress="($event.keyCode === 13) ? create() : null">
            <fieldset>
                <legend>Votre identité</legend>
                <label for="form-subscribe-name-compagny">Nom de votre structure* : </label>
                <input type="text" ng-model="userInfos.name" id="form-subscribe-name-compagny">
                <br>
                <label for="form-subscribe-lastname">Nom r&eacute;f&eacute;rent (responsable de la saisie du livret)* :</label>
                <input type="text" ng-model="userInfos.last_name" id="form-subscribe-lastname">
                <br>
                <label for="form-subscribe-firstname">Pr&eacute;nom r&eacute;f&eacute;rent* :</label>
                <input type="text" ng-model="userInfos.first_name" id="form-subscribe-firstname">
                <br>
                <label for="form-subscribe-fonction">Fonction : </label>
                <input type="text" ng-model="userInfos.fonction" id="form-subscribe-fonction">
                <br>
                <label for="form-subscribe-username">Adresse mail* :</label>
                <input type="text" ng-model="userInfos.username" id="form-subscribe-username">
                <br>
                <label for="form-subscribe-username2">Confirmez votre adresse mail* :</label>
                <input type="text" ng-model="username2" id="form-subscribe-username2">
                <br>
                <label for="form-subscribe-phone">Téléphone :</label>
                <input type="text" ng-model="userInfos.phone" id="form-subscribe-phone">
                <br>
                <label for="form-subscribe-adress">Adresse* :</label>
                <input type="text" ng-model="userInfos.address" id="form-subscribe-adress">
                <br>
                <label for="form-subscribe-cp">Code Postal* :</label>
                <input type="text" ng-model="userInfos.cp" id="form-subscribe-cp">
                <br>
                <label for="form-subscribe-city">Ville* :</label>
                <input type="text" ng-model="userInfos.city" id="form-subscribe-city">
                <br>
                <label for="form-subscribe-passwd">Mot de passe choisi* :</label>
                <input type="password" ng-model="userInfos.passwd" id="form-subscribe-passwd">
                <br>
                <label for="form-subscribe-passwd2">Confirmez le mot de passe choisi* :</label>
                <input type="password" ng-model="passwd2" id="form-subscribe-passwd2">
                <br>
                <input type="checkbox" ng-model="userInfos.contract_accepted" id="form-subscribe-accept"> <label for="form-subscribe-accept">J’accepte les conditions d’utilisation de la plate-forme (<a href="#" onclick="return false;" ng-click="showCGU = !showCGU">Consulter les conditions d'utilisation</a>) :</label>
                <div style="clear: both;"></div>
                <br>
                <button ng-click="create()">Valider</button>

            </fieldset>
        </div>
        <div ng-init="showCGU = false" ng-if="showCGU" ng-include="'partials/common/cgu.html'" onload="parent = $parent"></div>
    </section>
    <aside ng-include="'partials/home/right.html'"></aside>
</div>